DO $$
DECLARE
    user_id UUID;
BEGIN
    SELECT id INTO user_id FROM auth.users WHERE email = 'hi@agentok.ai';
    -- Sample templates
    INSERT INTO public.templates (id, created_at, name, description, project, user_id, updated_at) VALUES (15, '2024-07-19 13:34:34.269138+00', 'Chat with Assistant', 'A sample flow that talks to assistant.', '{"id": 122, "flow": {"edges": [{"id": "1001-1", "source": "1001", "target": "1"}, {"id": "1-2", "type": "converse", "source": "1", "target": "2", "animated": true}], "nodes": [{"id": "1001", "data": {"name": "Initializer", "class": "Initializer", "label": "initializer", "sample_messages": ["Write a poem based on recent headlines about Vancouver."]}, "type": "initializer", "width": 240, "height": 190, "dragging": false, "position": {"x": -64.93545454545453, "y": 3.736363636363592}, "selected": false, "positionAbsolute": {"x": -64.93545454545453, "y": 3.736363636363592}}, {"id": "1", "data": {"name": "User", "class": "UserProxyAgent", "label": "user", "termination_msg": "TERMINATE", "human_input_mode": "NEVER", "enable_code_execution": true, "max_consecutive_auto_reply": 10}, "type": "user", "width": 325, "height": 271, "dragging": false, "position": {"x": 314.83818181818174, "y": 292.3718181818182}, "selected": false, "positionAbsolute": {"x": 314.83818181818174, "y": 292.3718181818182}}, {"id": "2", "data": {"name": "Assistant", "type": "assistant", "class": "AssistantAgent", "label": "assistant", "max_consecutive_auto_reply": 10}, "type": "assistant", "width": 325, "height": 158, "dragging": false, "position": {"x": 761.3936363636363, "y": 70.64181818181817}, "selected": false, "positionAbsolute": {"x": 761.3936363636363, "y": 70.64181818181817}}, {"id": "998", "data": {"name": "Note", "class": "Note", "label": "note", "content": "Click **Start Chat** to show the chat pane, and in chat pane, select a sample question to start the conversation."}, "type": "note", "width": 753, "height": 105, "dragging": false, "position": {"x": 87, "y": 740}, "selected": false, "positionAbsolute": {"x": 87, "y": 740}}], "viewport": {"x": 192.28762805358554, "y": 202.1497241922774, "zoom": 0.8668242710795901}}, "name": "Chat with Assistant", "tools": null, "user_id": null, "datasets": null, "settings": null, "created_at": "2024-07-18T16:11:57.641517+00:00", "updated_at": "2024-07-18T16:11:57.641517+00:00", "description": "A sample flow that talks to assistant."}', user_id, '2024-07-31 06:57:20.006632+00');
    INSERT INTO public.templates (id, created_at, name, description, project, user_id, updated_at) VALUES (23, '2024-08-13 10:19:46.104705+00', 'Tools in Assistants', 'Use tools in User and Assistant nodes.', '{"id": 193, "flow": {"edges": [{"id": "1001-1", "source": "1001", "target": "1"}, {"id": "1-2", "data": {"tools": [172278707085517]}, "type": "converse", "source": "1", "target": "2", "animated": true, "selected": true}], "nodes": [{"id": "1001", "data": {"name": "Initializer", "class": "Initializer", "label": "initializer", "sample_messages": ["Write a poem based on recent headlines about Vancouver."]}, "type": "initializer", "width": 240, "height": 190, "dragging": false, "position": {"x": -206, "y": 267}, "selected": false, "positionAbsolute": {"x": -206, "y": 267}}, {"id": "1", "data": {"name": "User", "class": "UserProxyAgent", "label": "user", "tools": {"execution": [172265652819260, 172265615973800, 172278707085517]}, "description": "", "system_message": "", "termination_msg": "TERMINATE", "human_input_mode": "NEVER", "enable_code_execution": true, "max_consecutive_auto_reply": 10}, "type": "user", "width": 326, "height": 271, "dragging": false, "position": {"x": 207.68088246206997, "y": 368.7739099403934}, "selected": false, "positionAbsolute": {"x": 207.68088246206997, "y": 368.7739099403934}}, {"id": "2", "data": {"name": "Assistant", "type": "assistant", "class": "AssistantAgent", "label": "assistant", "tools": {"llm": [172278707085517]}, "max_consecutive_auto_reply": 10}, "type": "assistant", "width": 326, "height": 158, "dragging": false, "position": {"x": 703.5908689248895, "y": 300.3575846833579}, "selected": false, "positionAbsolute": {"x": 703.5908689248895, "y": 300.3575846833579}}, {"id": "998", "data": {"name": "Note", "class": "Note", "label": "note", "content": "Click **Start Chat** to show the chat pane, and in chat pane, select a sample question to start the conversation."}, "type": "note", "width": 749, "height": 91, "position": {"x": 87, "y": 740}, "positionAbsolute": {"x": 87, "y": 740}}], "viewport": {"x": 291.70456553755525, "y": -154, "zoom": 1}}, "name": "Tools in Assistants", "user_id": "d62a7168-2db2-47a0-aee0-a02e858ff575", "settings": null, "created_at": "2024-08-13T08:45:48.194109+00:00", "updated_at": "2024-08-13T08:45:48.194109+00:00", "description": "Use tools in User and Assistant nodes."}', user_id, '2024-08-13 10:19:46.104705+00');
    -- Sample tools
    INSERT INTO public.tools (id, name, description, logo_url, code, created_at, user_id, variables, updated_at, is_public) VALUES (1, 'Calculator', 'A simple calculator', 'https://lhwgegscthoigipqtczi.supabase.co/storage/v1/object/public/images//images/tools/1723000405622.svg', '"from typing import Annotated, Literal\n\nOperator = Literal[\"+\", \"-\", \"*\", \"/\"]\n\n\ndef calculator(a: int, b: int, operator: Annotated[Operator, \"operator\"]) -> int:\n    if operator == \"+\":\n        return a + b\n    elif operator == \"-\":\n        return a - b\n    elif operator == \"*\":\n        return a * b\n    elif operator == \"/\":\n        return int(a / b)\n    else:\n        raise ValueError(\"Invalid operator\")"', '2024-08-04 12:21:14.939263+00', user_id, '[]', '2024-08-04 12:21:14.939263+00', false);
    INSERT INTO public.tools (id, name, description, logo_url, code, created_at, user_id, variables, updated_at, is_public) VALUES (172278707085517, 'Tavily Search', 'Search with Tavily.', 'https://lhwgegscthoigipqtczi.supabase.co/storage/v1/object/public/images//images/tools/1722959963918.svg', '"from tavily import TavilyClient\n\ndef search(question: str) -> str:\n    ''''''Send hello world message.''''''\n    # Step 1. Instantiating your TavilyClient\n    tavily_client = TavilyClient(api_key={{TAVILY_API_KEY}})\n    \n    # Step 2. Executing a simple search query\n    response = tavily_client.search(question)\n    \n    # Step 3. That''s it! You''ve done a Tavily Search!\n    return response"', '2024-08-04 15:57:50.611831+00', user_id, '[{"id": 172286249542630, "name": "TAVILY_API_KEY", "value": "", "description": "API Key of Tavily Search. You can get at https://tavily.ai/ "}]', '2024-08-04 15:57:50.611831+00', true);
END $$;