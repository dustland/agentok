<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/ask-planner/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Ask Planner | FlowGen</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.flowgen.app/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.flowgen.app/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.flowgen.app/docs/tutorials/ask-planner"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ask Planner | FlowGen"><meta data-rh="true" name="description" content="This tutorial provides step-by-step guidance on constructing a workflow that shows how to use functions to incorporate subflows. Utilizing the FlowGen template, Planning, you can engage with it directly or fork it to tweak the flow to your specifications."><meta data-rh="true" property="og:description" content="This tutorial provides step-by-step guidance on constructing a workflow that shows how to use functions to incorporate subflows. Utilizing the FlowGen template, Planning, you can engage with it directly or fork it to tweak the flow to your specifications."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.flowgen.app/docs/tutorials/ask-planner"><link data-rh="true" rel="alternate" href="https://docs.flowgen.app/docs/tutorials/ask-planner" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.flowgen.app/docs/tutorials/ask-planner" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5b41f085.css">
<script src="/assets/js/runtime~main.cc18c916.js" defer="defer"></script>
<script src="/assets/js/main.93eeb766.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_xkpP" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="FlowGen Logo" class="themedComponent_FXRw themedComponent--light_RIle"><img src="/img/logo.svg" alt="FlowGen Logo" class="themedComponent_FXRw themedComponent--dark_gZs3"></div><b class="navbar__title text--truncate">FlowGen Docs</b></a><a class="navbar__item navbar__link" href="/docs/tutorials/getting-started">Getting Started</a><a class="navbar__item navbar__link" href="/docs/tutorials/search-n-write">Tutorials</a></div><div class="navbar__items navbar__items--right"><a href="https://flowgen.app/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="50 50 300 300">
              <g id="group13" data-name="group 13" transform="translate(-6327.091 -1946.904)">
                <g id="group_11" data-name="group 11">
                  <path id="path_10" data-name="path 10" d="M6641.667,2098.986h-34.12v47.143c0,44.936-36.762,82.865-81.7,82.549a81.116,81.116,0,0,1-80.533-80.533c-.315-44.934,37.614-81.7,82.55-81.7h47.143v-34.121a68.937,68.937,0,0,1,7.85-31.905h-53.825c-81.513,0-150.315,66.686-149.742,148.2A147.142,147.142,0,0,0,6525.377,2294.7c81.51.572,148.2-68.23,148.2-149.742v-53.826A68.937,68.937,0,0,1,6641.667,2098.986Z" fill="currentColor"/>
                  <path id="path_11" data-name="path 11" d="M6607.344,2033.474v33.178h33.178c18.71,0,34.5-15.308,34.372-34.018a33.775,33.775,0,0,0-33.533-33.532C6622.651,1998.97,6607.344,2014.763,6607.344,2033.474Z" fill="currentColor"/>
                  <path id="path_12" data-name="path 12" d="M6574.154,2146.7v-47.861h-47.861c-26.992,0-49.774,22.082-49.585,49.072a48.724,48.724,0,0,0,48.374,48.373C6552.072,2196.477,6574.154,2173.694,6574.154,2146.7Z" fill="currentColor"/>
                </g>
                <g id="group_12" data-name="group 12">
                  <rect id="rect_6" data-name="rect 6" width="400" height="400" transform="translate(6327.091 1946.904)" fill="none"/>
                </g>
              </g>
            </svg>
            <span style="margin-left: 2px">Platform</span>
          </a><a href="https://api.flowgen.app/redoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Tehz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/tiwater/flowgen" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Tehz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_UE7S colorModeToggle_g3G4"><button class="clean-btn toggleButton_W1PW toggleButtonDisabled_pwZN" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_wuzE"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Rf7q"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_u9Td"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_sGlu"><div class="docsWrapper_ZAiL"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_wW_o" type="button"></button><div class="docRoot_MMIl"><aside class="theme-doc-sidebar-container docSidebarContainer_G12m"><div class="sidebarViewport_OyHi"><div class="sidebar_p_ni"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_VUvv"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorials/getting-started">Getting Started ðŸš€</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/concepts">Concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/tutorials/human-in-loop">Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/human-in-loop">Human in the Loop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorials/ask-planner">Ask Planner</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/search-n-write">Search and Write</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_zXgU"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_vsK1"><div class="docItemContainer_LVek"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_DXWJ" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_FF5D"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorials</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Ask Planner</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_hiFX theme-doc-toc-mobile tocMobile_mQ_q"><button type="button" class="clean-btn tocCollapsibleButton_AMAu">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Ask Planner</h1>
<p>This tutorial provides step-by-step guidance on constructing a workflow that shows how to use functions to incorporate subflows. Utilizing the FlowGen template, <a href="https://flowgen.app/gallery/hp0xjckf3qqp31j" target="_blank" rel="noopener noreferrer">Planning</a>, you can engage with it directly or fork it to tweak the flow to your specifications.</p>
<p><img loading="lazy" alt="Planning" src="/assets/images/template-c4ce2a490aaf94eb491dc6b358e0027f.png" width="2288" height="1276" class="img_LhcD"></p>
<h2 class="anchor anchorWithStickyNavbar_d6gC" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">â€‹</a></h2>
<p>Youâ€™ll need access to FlowGen, which is accessible either <a href="https://flowgen.app" target="_blank" rel="noopener noreferrer">online</a> for immediate use or <a href="https://docs.flowgen.app/docs/tutorials/getting-started" target="_blank" rel="noopener noreferrer">locally on your machine</a> for a more personalized setup. This guide will focus on utilizing the online version of FlowGen.</p>
<h2 class="anchor anchorWithStickyNavbar_d6gC" id="steps-to-create-a-new-workflow">Steps to Create a New Workflow<a href="#steps-to-create-a-new-workflow" class="hash-link" aria-label="Direct link to Steps to Create a New Workflow" title="Direct link to Steps to Create a New Workflow">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_d6gC" id="initialize-a-new-flow">Initialize a New Flow<a href="#initialize-a-new-flow" class="hash-link" aria-label="Direct link to Initialize a New Flow" title="Direct link to Initialize a New Flow">â€‹</a></h3>
<p>Begin by signing into FlowGen. Once logged in, opt for the &#x27;Build from Scratch&#x27; option to establish a new Flow.</p>
<h3 class="anchor anchorWithStickyNavbar_d6gC" id="orchestrating-your-workflow">Orchestrating Your Workflow<a href="#orchestrating-your-workflow" class="hash-link" aria-label="Direct link to Orchestrating Your Workflow" title="Direct link to Orchestrating Your Workflow">â€‹</a></h3>
<p>First, clear the canvas by removing any pre-loaded sample nodes. Next, populate your workflow by adding the following nodes:</p>
<ul>
<li>
<p><strong>Assistant Agent</strong>: This will serve as the workflow&#x27;s Assistant.</p>
</li>
<li>
<p><strong>UserProxy Agent</strong>: Label this as <code>UserProxy</code>.</p>
</li>
</ul>
<p>That&#x27;s it! Refer to the accompanying illustration to visualize the flow arrangement:</p>
<p><img loading="lazy" alt="flow" src="/assets/images/flow-84b0e0f264e7c1b3d080f3b50b0310d6.png" width="2600" height="1592" class="img_LhcD"></p>
<h3 class="anchor anchorWithStickyNavbar_d6gC" id="build-subflow-with-functions">Build subflow with Functions<a href="#build-subflow-with-functions" class="hash-link" aria-label="Direct link to Build subflow with Functions" title="Direct link to Build subflow with Functions">â€‹</a></h3>
<ol>
<li>
<p>Click the <strong>More Options</strong> button on the Config node. In the revealed dialog, add new function by clicking <code>New Function</code> button.</p>
</li>
<li>
<p>Config the new function with the following information and code:</p>
</li>
</ol>
<ul>
<li>
<p><strong>Name:</strong> <code>ask_planner</code></p>
</li>
<li>
<p><strong>Description:</strong> <code>ask planner to: 1. get a plan for finishing a task, 2. verify the execution result of the plan and potentially suggest new plan.</code></p>
</li>
<li>
<p><strong>Parameters:</strong></p>
<ul>
<li>Name: <code>message</code></li>
<li>Type: <code>string</code></li>
<li>Description: <code>question to ask planner. Make sure the question include enough context, such as the code and the execution result. The planner does not know the conversation between you and the user, unless you share the conversation with the planner.</code></li>
</ul>
</li>
<li>
<p><strong>Code:</strong></p>
<div class="language-python codeBlockContainer_NMtC theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nyy4"><pre tabindex="0" class="prism-code language-python codeBlock_Sc2K thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_PM9N"><span class="token-line" style="color:#F8F8F2"><span class="token plain">planner </span><span class="token operator">=</span><span class="token plain"> autogen</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">AssistantAgent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;planner&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    llm_config</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;config_list&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> config_list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># the default system message of the AssistantAgent is overwritten here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    system_message</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;You are a helpful AI assistant. You suggest coding and reasoning steps for another AI assistant to accomplish a task. Do not suggest concrete code. For any action beyond writing code or reasoning, convert it to a step that can be implemented by writing code. For example, browsing the web can be implemented by writing code that reads and prints the content of a web page. Finally, inspect the execution result. If the plan is not good, suggest a better plan. If the execution is wrong, analyze the error and suggest a fix.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">planner_user </span><span class="token operator">=</span><span class="token plain"> autogen</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">UserProxyAgent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;planner_user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    max_consecutive_auto_reply</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># terminate without auto-reply</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    human_input_mode</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;NEVER&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">planner_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">initiate_chat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">planner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> message</span><span class="token operator">=</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># return the last message received from the planner</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> planner_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">last_message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_I4VY"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_kXTI" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J53z"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cA_Y"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<p>After all the configurations, the function should look like this:</p>
<p><img loading="lazy" alt="Function" src="/assets/images/function-18184172a57eaa5849c028a473e83fc5.png" width="2316" height="1574" class="img_LhcD"></p>
<p>In this example, we did not use the magical <code>Generate Code</code> feature to generate the code. This is because the task is tough to AI.</p>
<ol start="3">
<li>Click Close to close the dialog. The new function will be saved automatically.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_d6gC" id="configuring-your-agents">Configuring Your Agents<a href="#configuring-your-agents" class="hash-link" aria-label="Direct link to Configuring Your Agents" title="Direct link to Configuring Your Agents">â€‹</a></h3>
<p>The configurations of this example are simple:</p>
<ol>
<li>
<p>Click the <strong>More Options</strong> button on the UserProxy Agent. In the revealed dialog, activate <code>Code Execution Config</code> by marking the corresponding checkbox.</p>
</li>
<li>
<p>Still within the dialog, define the termination message command as <code>TERMINATE</code> by clicking the robot icon adjacent to the input field.</p>
</li>
</ol>
<p>With these configurations, the options of your UserProxy Agent should look like this:</p>
<p><img loading="lazy" alt="UserProxy Options" src="/assets/images/userproxy-options-f1cdce01b0b8548365f577b9c7bf89f3.png" width="1522" height="912" class="img_LhcD"></p>
<p>And we also need to configure the UserProxy a little bit:</p>
<ol>
<li>Alter the <code>Human Input Mode</code> setting to <code>TERMINATE</code>.</li>
<li>Adjust the <code>Max Consecutive Auto Replies</code> to <code>10</code>. This allows the UserProxy Agent to independently execute received code and dispatch the results back to the Assistant Agent.</li>
</ol>
<p>That&#x27;s it! With these configurations, your UserProxy Agent should look like this:</p>
<p><img loading="lazy" alt="UserProxy" src="/assets/images/userproxy-b5ac7d788efe9a069603f3036286c801.png" width="780" height="646" class="img_LhcD"></p>
<h3 class="anchor anchorWithStickyNavbar_d6gC" id="initiating-the-workflow">Initiating the Workflow<a href="#initiating-the-workflow" class="hash-link" aria-label="Direct link to Initiating the Workflow" title="Direct link to Initiating the Workflow">â€‹</a></h3>
<p>Launch the workflow by clicking the <strong>Start Chat</strong> button, located in the top right corner. Input the message <code>Suggest a fix to an open good first issue of flaml</code> within the chat interface to witness the workflow&#x27;s response:</p>
<p><img loading="lazy" alt="Chat" src="/assets/images/chat1-d1000b554a13808a44398f469aa010e4.png" width="2350" height="2482" class="img_LhcD">
<img loading="lazy" alt="Chat" src="/assets/images/chat2-55c3af6b3bc7eabb15ef712a5dba92ab.png" width="2322" height="2266" class="img_LhcD">
<img loading="lazy" alt="Chat" src="/assets/images/chat3-b2ff563910653e02ee9c9a3fd00b15e0.png" width="2330" height="2102" class="img_LhcD"></p>
<h2 class="anchor anchorWithStickyNavbar_d6gC" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">â€‹</a></h2>
<p>This tutorial demonstrates how to use functions to incorporate subflows. You can use this technique to build more complex workflows.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/tiwater/flowgen/edit/main/website/docs/tutorials/ask-planner/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Jts8" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_s0pb"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tutorials/human-in-loop"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Human in the Loop</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorials/search-n-write"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Search and Write</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_JugY thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#steps-to-create-a-new-workflow" class="table-of-contents__link toc-highlight">Steps to Create a New Workflow</a><ul><li><a href="#initialize-a-new-flow" class="table-of-contents__link toc-highlight">Initialize a New Flow</a></li><li><a href="#orchestrating-your-workflow" class="table-of-contents__link toc-highlight">Orchestrating Your Workflow</a></li><li><a href="#build-subflow-with-functions" class="table-of-contents__link toc-highlight">Build subflow with Functions</a></li><li><a href="#configuring-your-agents" class="table-of-contents__link toc-highlight">Configuring Your Agents</a></li><li><a href="#initiating-the-workflow" class="table-of-contents__link toc-highlight">Initiating the Workflow</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2023 FlowGen. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>